var ProductMenu,lang=prefCookie.pl,$mobileSubCatsID=$("#mobileSubCatsID");$(function(){ProductMenu.init()}),ProductMenu={init:function(e){if($.extend(ProductMenu.config,e),typeof ko=="undefined")return;$("#mobileMenu, #hdrNavMenu, #productMenuDiv a.dropdown-item, #productMenuDiv button.offscreen").on("click mouseenter focus",function(){ProductMenu.loadCategories()})},loadCategories:function(){if(ProductMenu.isCategoryLoaded())return;$.getJSON(ProductMenu.getProductCategoryURL(),function(e){ProductMenu.fillCategoryFlyouts(e)}),$mobileSubCatsID.addClass("loaded")},isCategoryLoaded:function(){return!!$mobileSubCatsID.hasClass("loaded")},getProductCategoryURL:function(){var e="/productservice.svc/json/LwGetCategoriesForDisplay?location=LEFT_NAV&lang="+lang;return e},fillCategoryFlyouts:function(e){var t=e;$.each(t,function(e,t){var n,i,o=ProductMenu.getEngCatName(t),s=$("#mobileSubCatsID .category-section").eq(e);s!=null&&s.length>0&&(ko.applyBindings(t,s[0]),i=s.find(".divTitle .spnCount"),i.text(i.text().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")),ProductMenu.setAllCategoryLinkEvent(s,o),s.find(".subCats li").each(function(){var e=$(this);e.find(".spnCount").text(e.find(".spnCount").text().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"))})),n=$subCategoryFlyout.eq(e+1),n!=null&&n.length>0&&(ko.applyBindings(t,n[0]),n.find(".spnCount").text(n.find(".spnCount").text().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")),typeof strTypesOf!="undefined"&&n.find(".kjSubCatName").text(strTypesOf.replace("{0}",n.find(".kjSubCatName").text())),$.each(n.find(".twoColumns li a"),function(n,s){var a,r,i=t.Subcategories.filter(function(e){return e.Name===s.text})[0],c=(e+11)*100+n+1;try{a=typeof i.OriginalName!="undefined"?i.OriginalName:i.Name,$(s).attr("onclick","ga('send', 'event', 'Products Dropdown Category Click', '"+o+"', '"+a+"', "+c+");"),r=o+"|"+a,$(s).attr("data-eng-cat",r.toLowerCase()),$("#mbl_"+t.Id+" ul li:eq("+n+") a").attr("data-eng-cat",r.toLowerCase())}catch{}}))})},getEngCatName:function(e){var t="";try{t=typeof e.OriginalName!="undefined"?e.OriginalName:e.Name}catch{}return t},setAllCategoryLinkEvent:function(e,t){var n=t+"|all "+t;e.find(".spnTitle a[data-bind]").attr("data-eng-cat",n.toLowerCase())}}