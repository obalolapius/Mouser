var ProductAccessibility,$megaNewProducts=$(".newProdCont");$(document).ready(function(){ProductAccessibility.ProductMenuDDLEvents(),ProductAccessibility.SubCategoryFlyoutEvents(),ProductAccessibility.MegaNewProductEvents(),ProductAccessibility.MobileMenuEvents()}),ProductAccessibility={ProductMenuDDLEvents:function(){$productMenu.on("keydown","button",function(e){if(e.key==="Enter"||e.key===" "||e.key==="ArrowRight"){e.preventDefault(),ProductMenuAim.activateSubmenu($(this).parent("li"));var n=document.getElementById($(this).prev("a.dropdown-item").data("submenuId")),t=ProductAccessibility.getTabbables(n);t[0]!==void 0&&t[0].focus()}}),$productMenu.on("focusin","button",function(){$(this).prev("a.dropdown-item").addClass("product-menu-active")}),$productMenu.on("focusout","button",function(){$(".product-menu-active").removeClass("product-menu-active")}),$productMenu.on("keydown",function(e){e.key==="Escape"&&(e.stopPropagation(),$subCategoryFlyout.triggerHandler("mouseout"),$hdrNavMenu.triggerHandler("mouseout"),$(this).closest("li.nav-item").nextAll(":visible").first().find("a").trigger("focus"));var t=$(":focus");if(t.length>0)switch(e.key){case"ArrowUp":$("#productMenuDiv a").get(0)===t.get(0)?(ProductNav.flyoutMouseLeaveEvts(),$(this).blur(),$(this).closest("li.nav-item").nextAll(":visible").first().find("a").trigger("focus")):ProductAccessibility.simulateTab(t.get(0),this,-1),e.stopPropagation();break;case"ArrowDown":ProductAccessibility.simulateTab(t.get(0),this,1);break}}),$("a[data-layer-click='top_nav_products_view_all_newest_clicked']").on("keydown",function(e){if(ProductNav.isHomePage()&&e.key==="ArrowDown"){e.preventDefault();var t=ProductAccessibility.getTabbables($megaNewProducts.get(0)),n=t.indexOf(e.target);if(n===-1)return!0;$(t[n+1]).first().trigger("focus")}});function e(e,t){(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),e.stopPropagation(),t.closest("li.dropdown.show").length>0?RightNavMiscFunctions.closeNavItemPopup($(t.closest("li.dropdown"))):(RightNavMiscFunctions.openNavItemPopup(t.closest("li.dropdown")),t.focus()))}},SubCategoryFlyoutEvents:function(){$subCategoryFlyout.on("keydown",function(e){if(e.key==="Escape"||e.key==="ArrowLeft")return ProductAccessibility.SubCategoryEscOrFirstShftTabEvt(e.currentTarget.id),!1;var t=$(":focus");if(t.length>0&&e.key==="Tab")return!!ProductAccessibility.SubCategoryTabEvts(t,e);if(ProductAccessibility.SubCategoryArrowEvts(t,e))return!0})},SubCategoryTabEvts:function(e,t){return e.parent().next().length===0&&!t.shiftKey?(ProductAccessibility.SubCategoryLastLinkTabEvt(t.currentTarget.id),!1):e.parent().prev().length!==0||!t.shiftKey||(ProductAccessibility.SubCategoryEscOrFirstShftTabEvt(t.currentTarget.id),!1)},SubCategoryEscOrFirstShftTabEvt:function(e){var t=$('a[data-submenu-id="'+e+'"]');t.next().trigger("focus"),ProductMenuAim.deactivateSubmenu(t.closest("li"),!0)},SubCategoryLastLinkTabEvt:function(e){var t=$('a[data-submenu-id="'+e+'"]');t.parent().nextAll("li:not(.dropdown-divider)").first().find("a.dropdown-item").trigger("focus"),ProductMenuAim.deactivateSubmenu(t.closest("li"))},SubCategoryArrowEvts:function(e,t){var n=e.parents(".listSubCats");return n.length===0||(t.key==="ArrowUp"?ProductAccessibility.simulateTab(e.get(0),n.get(0),-1):t.key==="ArrowDown"?(t.preventDefault(),ProductAccessibility.simulateTab(e.get(0),n.get(0),1)):t.key==="ArrowRight",!1)},MegaNewProductEvents:function(){$megaNewProducts.on("keydown",function(e){return e.key!=="Tab"||!!ProductAccessibility.MegaNewProductsTabEvts(e)})},MegaNewProductsTabEvts:function(e){var s,n=ProductAccessibility.getTabbables($megaNewProducts.get(0)),t=n.indexOf(e.target);if(t===-1)return!0;if(e.shiftKey){if(t===0)return ProductAccessibility.SubCategoryEscOrFirstShftTabEvt($(e.target).parents(".subCategoryFlyout").attr("id")),!1;s=$(n[t-1])}else{if(t===n.length-1)return ProductAccessibility.SubCategoryLastLinkTabEvt($(e.target).parents(".subCategoryFlyout").attr("id")),!1;s=$(n[t+1])}return s.first().trigger("focus"),!1},MobileMenuEvents:function(){$mobileMenuNew.on("keydown",function(e){var t=$(":focus");switch(e.key){case"Tab":if(e.shiftKey)ProductAccessibility.mobileMenuShiftTabKeyEvts(t,e);else{let s=t.closest($(".mobile-menu-new"))[0],o=ProductAccessibility.getTabbables(s),n=ProductAccessibility.getVisibleElements(o);n.indexOf($(t)[0])===n.length-1&&(e.preventDefault(),$btnMobileMenu.trigger("focus"))}break;case"Escape":ProductAccessibility.mobileMenuCloseEvt(e,!1);break}}),$btnMobileMenu.on("keydown",function(e){switch(e.key){case"Tab":if(!$btnMobileMenu.hasClass("collapsed")){e.preventDefault();const t=$(".mobile-menu-new a");e.shiftKey?$(t).filter(":visible:last").trigger("focus"):$(t).filter(":visible:first").trigger("focus")}break;case"Escape":ProductAccessibility.mobileMenuCloseEvt(e,!0);break}})},mobileMenuShiftTabKeyEvts:function(e,t){t.preventDefault();let o=e.closest(".mobile-menu-new")[0],i=ProductAccessibility.getTabbables(o),n=ProductAccessibility.getVisibleElements(i),s=n.indexOf($(e)[0]);if(s===0)$btnMobileMenu.trigger("focus");else{let e=$(n).get(s-1);$(e).trigger("focus")}},getVisibleElements:function(e){return e.filter(e=>$(e).is(":visible"))},mobileMenuCloseEvt:function(e,t){ProductNavMobl.closeMobileMenuExplict(),RemoveBGOverlay(),t&&e.preventDefault(),$btnMobileMenu.trigger("focus")},getTabbables:function(e){return Array.from(e.querySelectorAll('input,select,textarea,button,a,[tabindex]:not([tabindex="-1"]'))},simulateTab:function(e,t,n){let s=ProductAccessibility.getTabbables(t),o=s.indexOf(e);if(o===0&&n===-1)return;if(o===s.length-1&&n===1)return;let i=s[o+n];i.focus()}}