var ProductMenuAim,ProductNav,$productMenu=$("#productMenuDiv"),$productMenuActiveClass="product-menu-active",$hdrNavMenu=$($productMenu.hasClass("products-menu-hpm")?"#hdrNavMenu":"#hdrNavMenuHome"),$hdrNavMenuLink=$("#hdrNavMenuLink"),$hdrNavMenuAnchor=$("#ProdsHome"),$subCategoryFlyout=$(".subCategoryFlyout"),navFadeOutSpeed=400;$(document).ready(function(){$productMenu.menuAim({activate:ProductMenuAim.activateSubmenu,deactivate:ProductMenuAim.deactivateSubmenu,exitMenu:ProductMenuAim.exitMenu,rowSelector:"li"}),ProductNav.init()}),ProductMenuAim={activateSubmenu:function(e){if(e===void 0)return;e=$(e).find("a.dropdown-item")[0];var n,i,a,t=$(e),r=t.data("submenuId"),s=$("#"+r),o=$productMenu.offset(),c=$productMenu.outerWidth();if($productMenu.find("a.product-menu-active").removeClass($productMenuActiveClass),n=ProductMenuAim.isProceedWithFlyoutOp(e),n){$(e).addClass($productMenuActiveClass),i=o.top-4,a=o.left+c-2,s.css({height:$productMenu.outerHeight(),top:i,left:a}),$subCategoryFlyout.addClass("d-none"),s.removeClass("d-none"),ProductNav.setAriaAttributesByFlyouts($(e),!0);try{t.attr("data-submenu-id")==="new_prods"?HdrFtrGa4Evts.pushEvt("top_nav_products_newest_expanded_rollover"):HdrFtrGa4Evts.pushProductEvt("top_nav_products_category_second_expanded_rollover",t.attr("data-eng-cat"))}catch{}}ProductNav.isHomePage()&&n&&(typeof this.delHomeOverlayTimeout!="undefined"&&clearTimeout(this.delHomeOverlayTimeout),typeof this.setHomeOverlayTimeout!="undefined"&&clearTimeout(this.setHomeOverlayTimeout),this.setHomeOverlayTimeout=setTimeout(function(){AddBGOverlay("BG_overlay","BG_overlay_home")},navFadeOutSpeed))},deactivateSubmenu:function(e,t=!1){if(e===void 0)return;e=$(e).find("a.dropdown-item")[0],$submenu=$("#"+$(e).data("submenuId")),ProductMenuAim.isProceedWithFlyoutOp(e)&&(t===!1&&$(e).removeClass($productMenuActiveClass),$submenu.addClass("d-none"),ProductNav.setAriaAttributesByFlyouts($(e),!1)),ProductNav.isHomePage()&&(typeof this.delHomeOverlayTimeout!="undefined"&&clearTimeout(this.delHomeOverlayTimeout),this.delHomeOverlayTimeout=setTimeout(function(){RemoveBGOverlay()},navFadeOutSpeed))},exitMenu:function(){return ProductNav.exitMenu()},isProceedWithFlyoutOp:function(e){return!$(e).hasClass("view-all")}},ProductNav={init:function(){ProductNav.isHomePage()?ProductNav.LoadProductDDLHomeMouseEvents():ProductNav.LoadProductDDLNonHomeMouseEvents(),ProductNav.Misc()},ProductsIcon:function(e){e?$hdrNavMenuAnchor.children(".fa").removeClass("prod-dropdown-u").addClass("prod-dropdown-d"):$hdrNavMenuAnchor.children(".fa").removeClass("prod-dropdown-d").addClass("prod-dropdown-u")},LoadProductDDLNonHomeMouseEvents:function(){var e;$hdrNavMenu.on({mouseenter:function(t){typeof e!="undefined"&&clearTimeout(e),e=setTimeout(function(){ProductNav.isNavbarCollapsed()||(AddBGOverlay(),!$(t.relatedTarget).closest(".subCategoryFlyout").length>0&&HdrFtrGa4Evts.pushEvt("top_nav_products_menu_expanded_rollover"),$hdrNavMenu.dropdown("toggle"),$hdrNavMenuAnchor.attr("aria-expanded",!0),ProductNav.ProductsIcon(!1)),ProductNav.HideSearchDropdown(),$(".as-results").hide()},navFadeOutSpeed)},mouseleave:function(){typeof e!="undefined"&&clearTimeout(e),ProductNav.exitMenu()&&(e=setTimeout(function(){$hdrNavMenu.dropdown("hide"),$hdrNavMenuAnchor.attr("aria-expanded",!1),ProductNav.ProductsIcon(!0),ProductNav.ProductDDLExplicitDisplay(!1)},navFadeOutSpeed),RemoveBGOverlay())},keydown:function(e){e.key==="Escape"&&(e.preventDefault(),$productMenu.hasClass("show")&&(ProductNav.ProductsIcon(!0),$hdrNavMenu.dropdown("hide"),$hdrNavMenuAnchor.attr("aria-expanded",!1),ProductNav.ProductDDLExplicitDisplay(!1),RemoveBGOverlay()))}}),$hdrNavMenuAnchor.on({touchend:function(e){e.preventDefault(),$productMenu.hasClass("show")?($hdrNavMenu.dropdown("hide"),ProductNav.ProductsIcon(!0),$hdrNavMenuAnchor.attr("aria-expanded",!1),$hdrNavMenu.find("a.product-menu-active").length>0&&ProductMenuAim.deactivateSubmenu($hdrNavMenu.find("a.product-menu-active").closest("li")),ProductNav.ProductDDLExplicitDisplay(!1),RemoveBGOverlay()):(ProductNav.ProductsIcon(!1),AddBGOverlay(),$hdrNavMenu.dropdown("toggle"),$hdrNavMenuAnchor.attr("aria-expanded",!0))},focusout:function(t){t.relatedTarget!=null&&t.relatedTarget.className!=="dropdown-item"&&(typeof e!="undefined"&&clearTimeout(e),e=setTimeout(function(){$hdrNavMenu.trigger("mouseleave")},navFadeOutSpeed))},keydown:function(e){(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),$productMenu.hasClass("show")?($hdrNavMenu.dropdown("hide"),ProductNav.ProductsIcon(!0),$hdrNavMenuAnchor.attr("aria-expanded",!1),$hdrNavMenu.find("a.product-menu-active").length>0&&ProductMenuAim.deactivateSubmenu($hdrNavMenu.find("a.product-menu-active").closest("li")),ProductNav.ProductDDLExplicitDisplay(!1),RemoveBGOverlay()):(ProductNav.ProductsIcon(!1),AddBGOverlay(),$hdrNavMenu.dropdown("toggle"),$hdrNavMenuAnchor.attr("aria-expanded",!0)))}}),$hdrNavMenuLink.on({click:function(t){t.stopPropagation(),typeof e!="undefined"&&clearTimeout(e)}})},LoadProductDDLHomeMouseEvents:function(){$subCategoryFlyout.on({mouseleave:function(){$productMenu.trigger("mouseleave")}}),$hdrNavMenu.on({mouseenter:function(){ProductNav.HideSearchDropdown(),$(".as-results").hide()}})},Misc:function(){$("#productMenuDiv a.dropdown-item").on({click:function(e){e.stopPropagation()},mouseenter:function(){$productMenu.find("a.dropdown-item:focus").hasClass($productMenuActiveClass)?ProductNav.ProductDDLOutline($productMenu.find("a.dropdown-item:focus"),!1):ProductNav.ProductDDLOutline($productMenu.find("a.dropdown-item:focus"),!0)},focusin:function(e){if(e.relatedTarget!=null&&!$(e.relatedTarget).is($hdrNavMenuAnchor)){var t=$hdrNavMenu.find("a.product-menu-active");t.removeClass($productMenuActiveClass)}}}),$subCategoryFlyout.on("click",".listTab a, a .img-link, a .text-link",function(){ProductNav.flyoutMouseLeaveEvts()}),$(".nav-item.nav-products a.dropdown-item").on({focusout:function(e){!ProductNav.isHomePage()&&$productMenu.hasClass("show")&&ProductNav.ProductDDLExplicitDisplay(!0),(e.relatedTarget===null||e.relatedTarget!==null&&ProductNav.GetClosestTargetLength(e.relatedTarget,"#hdrNavMenu")===0&&ProductNav.GetClosestTargetLength(e.relatedTarget,".subCategoryFlyout")===0||$(e.relatedTarget).attr("id")==="ProdsHome"&&ProductNav.GetClosestTargetLength(e.relatedTarget,"#ProdsHome")===0)&&ProductNav.onMouseOut(".subCategoryFlyout")&&(ProductNav.flyoutMouseLeaveEvts(),RemoveBGOverlay()),$(this).hasClass("ddl-item")&&ProductNav.ProductDDLOutline($(this),!1)}}),$subCategoryFlyout.on({mouseleave:function(){ProductNav.isProductDDLDeactive()&&!$(this).hasClass("d-none")&&(ProductNav.flyoutMouseLeaveEvts(),ProductNav.ProductDDLExplicitDisplay(!1))},focusout:function(e){$productMenu.hasClass("show")&&(e.relatedTarget===null||e.relatedTarget!=null&&ProductNav.GetClosestTargetLength(e.relatedTarget,"#hdrNavMenu")===0&&ProductNav.GetClosestTargetLength(e.relatedTarget,".subCategoryFlyout")===0)&&$productMenu.hasClass("show")&&ProductNav.onMouseOut(".subCategoryFlyout")&&(ProductNav.flyoutMouseLeaveEvts(),$("#productMenuDiv:hover").length<=0&&RemoveBGOverlay())}})},setAriaAttributesByFlyouts:function(e,t){e.next("button.offscreen").attr("aria-expanded",t)},isNavbarCollapsed:function(){return $("button.navbar-toggler").is(":visible")},exitMenu:function(){if(ProductNav.isInternetExplorer()>-1){if(ProductNav.sleep(10),window.event==null)return!0;for(var e=ProductNav.getMouseOverElement();e!=null&&e.id!="catFlyouts";)e=e.parentNode;return e==null||e.id!="catFlyouts"}return this.onMouseOut("#catFlyouts")},sleep:function(e){for(var t=(new Date).getTime();(new Date).getTime()<t+e;);},isInternetExplorer:function(){return window.navigator.userAgent.search(/(MSIE|Trident|Edge)/)},getMouseOverElement:function(){var e=window.event.clientX,t=window.event.clientY;return document.elementFromPoint(e,t)},onMouseOut:function(e){return document.querySelectorAll(`${e}:hover`).length<=0},isHomePage:function(){return!$productMenu.hasClass("products-menu-hpm")},flyoutMouseLeaveEvts:function(){$("#catFlyouts div.subCategoryFlyout:not(.d-none)").addClass("d-none");var e=$hdrNavMenu.find("a.product-menu-active");e.removeClass($productMenuActiveClass),ProductNav.setAriaAttributesByFlyouts(e,!1),$productMenu.trigger("mouseleave")},isProductDDLDeactive:function(){var e,n,t=!0;if(ProductNav.isInternetExplorer()>-1){if(e=ProductNav.getMouseOverElement(),e==null)return!0;n=ProductNav.GetClosestTargetLength(e,$productMenu),e!=null&&n>0&&(t=!1)}else t=this.onMouseOut("#productMenuDiv li");return t},ProductDDLExplicitDisplay:function(e){e?$productMenu.addClass("d-block"):$productMenu.removeClass("d-block")},ProductDDLOutline:function(e,t){e.hasClass("view-all")||(t?e.addClass("ddl-item"):e.removeClass("ddl-item"))},GetClosestTargetLength:function(e,t){return $(e).closest(t).length},HideSearchDropdown:function(){$("#scopeOptionDiv .dropdown-menu").hasClass("show")&&$("#btnScope").dropdown("toggle")},HideSearchResultsDiv:function(){$(".as-results:visible").length===1&&$(".as-results").hide()}}